
---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=4&selection=15,0,16,65|Adicionando uma nova Coluna]]

Para **adicionar uma nova coluna em uma tabela no MySQL**, voc√™ usa o comando **`ALTER TABLE`** junto com **`ADD COLUMN`**.

### **Sintaxe b√°sica**

```sql
ALTER TABLE nome_da_tabela
ADD COLUMN nome_da_coluna tipo_da_coluna [restri√ß√µes];
```

### **Explicando:**

- `nome_da_tabela` ‚Üí a tabela onde voc√™ quer adicionar a coluna.
    
- `nome_da_coluna` ‚Üí o nome que a nova coluna ter√°.
    
- `tipo_da_coluna` ‚Üí tipo de dado (ex.: `INT`, `VARCHAR(100)`, `DATE`, etc.).
    
- `[restri√ß√µes]` ‚Üí opcional (ex.: `NOT NULL`, `DEFAULT`, `UNIQUE`).
    

---

### **Exemplos pr√°ticos**

1. **Adicionar uma coluna de texto simples:**
    

```sql
ALTER TABLE clientes
ADD COLUMN telefone VARCHAR(20);
```

> Aqui criamos uma coluna `telefone` que pode armazenar at√© 20 caracteres.

2. **Adicionar uma coluna com valor padr√£o:**
    

```sql
ALTER TABLE pedidos
ADD COLUMN status VARCHAR(20) DEFAULT 'pendente';
```

> Todos os registros existentes receber√£o o valor padr√£o `'pendente'`.

3. **Adicionar uma coluna obrigat√≥ria (NOT NULL):**
    

```sql
ALTER TABLE funcionarios
ADD COLUMN data_admissao DATE NOT NULL;
```

> Isso exige que toda nova linha inserida tenha uma data de admiss√£o.

4. **Escolher a posi√ß√£o da nova coluna:**
    

- Colocar **no in√≠cio da tabela**:
    

```sql
ALTER TABLE clientes
ADD COLUMN idade INT FIRST;
```

- Colocar **depois de uma coluna espec√≠fica**:
    

```sql
ALTER TABLE clientes
ADD COLUMN cidade VARCHAR(50) AFTER nome;
```

---

### **Resumo r√°pido**

- Use `ALTER TABLE ... ADD COLUMN ...`.
    
- Defina o tipo de dado corretamente.
    
- Pode usar `DEFAULT`, `NOT NULL`, `UNIQUE`, etc.
    
- Pode controlar a posi√ß√£o da coluna com `FIRST` ou `AFTER`.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=5&selection=13,0,14,65|Removendo uma Coluna]]

Para **remover uma coluna em uma tabela no MySQL**, tamb√©m usamos o comando **`ALTER TABLE`**, mas agora com **`DROP COLUMN`**.

### **Sintaxe b√°sica**

```sql
ALTER TABLE nome_da_tabela
DROP COLUMN nome_da_coluna;
```

---

### **Exemplos pr√°ticos**

1. **Remover uma coluna simples:**
    

```sql
ALTER TABLE clientes
DROP COLUMN telefone;
```

> Isso remove a coluna `telefone` da tabela `clientes`.

2. **Remover v√°rias colunas de uma vez:**
    

```sql
ALTER TABLE pedidos
DROP COLUMN desconto,
DROP COLUMN observacao;
```

> Remove `desconto` e `observacao` de uma s√≥ vez.

3. **Cuidados importantes:**
    

- Depois de remover a coluna, todos os dados dela ser√£o **perdidos permanentemente**.
    
- N√£o h√° como ‚Äúdesfazer‚Äù direto, s√≥ restaurando de backup.
    
- Se a coluna for usada em **√≠ndices, chaves estrangeiras ou constraints**, voc√™ precisar√° remover essas restri√ß√µes antes.
    

---

### **Resumo r√°pido**

- `ALTER TABLE ... DROP COLUMN ...;` ‚Üí remove uma coluna.
    
- Pode remover v√°rias colunas de uma vez separando por v√≠rgula.
    
- Dados daquela coluna ser√£o apagados permanentemente.
    
- Verifique se n√£o h√° chaves/√≠ndices usando a coluna antes de remover.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=6&selection=19,0,19,30|Escolhendo a Posi√ß√£o da Coluna]]


No **MySQL**, quando voc√™ adiciona uma coluna com `ALTER TABLE ... ADD COLUMN`, pode escolher **em que posi√ß√£o** ela vai aparecer na tabela.


### **Op√ß√µes para posicionar colunas**

1. **Adicionar no final da tabela (padr√£o):**
    

```sql
ALTER TABLE clientes
ADD COLUMN telefone VARCHAR(20);
```

> Se voc√™ n√£o especificar nada, a nova coluna ser√° criada **na √∫ltima posi√ß√£o** da tabela.

---

2. **Adicionar no in√≠cio da tabela:**
    

```sql
ALTER TABLE clientes
ADD COLUMN idade INT FIRST;
```

> Aqui, `idade` ser√° a **primeira coluna** da tabela.

---

3. **Adicionar depois de uma coluna existente:**
    

```sql
ALTER TABLE clientes
ADD COLUMN cidade VARCHAR(50) AFTER nome;
```

> A coluna `cidade` ser√° criada **logo depois** da coluna `nome`.

---

### **Observa√ß√£o importante**

- A posi√ß√£o da coluna **n√£o altera o funcionamento da tabela** (os dados continuam acessados pelos nomes das colunas).
    
- √â apenas para **organiza√ß√£o visual** quando voc√™ lista ou descreve a tabela (`DESCRIBE tabela;`).
    
- Se for necess√°rio mudar a posi√ß√£o **de uma coluna j√° existente**, voc√™ pode usar `MODIFY` ou `CHANGE`:
    

```sql
ALTER TABLE clientes
MODIFY COLUMN idade INT AFTER email;
```

> Aqui, a coluna `idade` (j√° existente) √© movida para logo depois de `email`.

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=7&selection=15,0,16,65|Modificando Defini√ß√µes]]

Para **modificar defini√ß√µes de uma coluna no MySQL**, usamos o comando **`ALTER TABLE`** junto com **`MODIFY`** ou **`CHANGE`**.


## üîπ 1. Usando `MODIFY`

- Serve para **alterar o tipo de dado** ou as restri√ß√µes da coluna, **mantendo o mesmo nome**.
    

### Sintaxe:

```sql
ALTER TABLE nome_da_tabela
MODIFY COLUMN nome_da_coluna novo_tipo [restri√ß√µes] [posi√ß√£o];
```

### Exemplo:

```sql
ALTER TABLE clientes
MODIFY COLUMN telefone VARCHAR(30) NOT NULL AFTER nome;
```

> Aqui, a coluna `telefone` passa a aceitar at√© 30 caracteres, n√£o pode ser nula, e ser√° posicionada depois da coluna `nome`.

---

## üîπ 2. Usando `CHANGE`

- Serve para **alterar tipo, restri√ß√µes e at√© renomear a coluna**.
    
- Voc√™ deve **repetir o nome antigo e o novo**.
    

### Sintaxe:

```sql
ALTER TABLE nome_da_tabela
CHANGE COLUMN nome_antigo novo_nome tipo [restri√ß√µes] [posi√ß√£o];
```

### Exemplo:

```sql
ALTER TABLE clientes
CHANGE COLUMN telefone celular VARCHAR(25) UNIQUE;
```

> Aqui, a coluna `telefone` foi renomeada para `celular`, aceita at√© 25 caracteres e agora deve ser √∫nica.

---

## üîπ 3. Diferen√ßas entre `MODIFY` e `CHANGE`

|Comando|Pode alterar tipo|Pode alterar restri√ß√µes|Pode renomear a coluna|Precisa repetir o nome?|
|---|---|---|---|---|
|`MODIFY`|‚úÖ|‚úÖ|‚ùå|‚ùå|
|`CHANGE`|‚úÖ|‚úÖ|‚úÖ|‚úÖ (nome antigo e novo)|

---

## üîπ 4. Exemplos pr√°ticos extras

1. **Tornar coluna obrigat√≥ria (`NOT NULL`):**
    

```sql
ALTER TABLE funcionarios
MODIFY COLUMN salario DECIMAL(10,2) NOT NULL;
```

2. **Alterar tipo de coluna e definir valor padr√£o:**
    

```sql
ALTER TABLE pedidos
MODIFY COLUMN status VARCHAR(20) DEFAULT 'pendente';
```

3. **Renomear e alterar tipo ao mesmo tempo:**
    

```sql
ALTER TABLE produtos
CHANGE COLUMN preco valor_unitario DECIMAL(8,2) NOT NULL;
```

---

‚úÖ **Resumo:**

- Use `MODIFY` se quiser apenas mudar tipo/restri√ß√µes/posi√ß√£o.
    
- Use `CHANGE` se quiser tamb√©m **renomear** a coluna.
    

---

# [[06 - ALTER TABLE DROP TABLE.pdf#page=8&selection=17,0,17,17|Renomeando Coluna]]

Para **renomear uma coluna no MySQL**, voc√™ tem **duas formas** poss√≠veis:


## üîπ 1. Usando `CHANGE` (mais antigo, ainda muito usado)

- Permite **renomear e alterar tipo/restri√ß√µes ao mesmo tempo**.
    
- Necess√°rio informar **nome antigo** e **novo nome**.
    

### Sintaxe:

```sql
ALTER TABLE nome_da_tabela
CHANGE COLUMN nome_antigo novo_nome tipo [restri√ß√µes];
```

### Exemplo:

```sql
ALTER TABLE clientes
CHANGE COLUMN telefone celular VARCHAR(20);
```

> Aqui a coluna `telefone` foi renomeada para `celular`, mantendo o tipo `VARCHAR(20)`.

‚ö†Ô∏è Aten√ß√£o: sempre precisa repetir o **tipo e restri√ß√µes** da coluna, sen√£o pode perder a defini√ß√£o original.

---

## üîπ 2. Usando `RENAME COLUMN` (MySQL 8.0+)

- Sintaxe mais simples.
    
- S√≥ renomeia, sem precisar reescrever o tipo.
    

### Sintaxe:

```sql
ALTER TABLE nome_da_tabela
RENAME COLUMN nome_antigo TO novo_nome;
```

### Exemplo:

```sql
ALTER TABLE clientes
RENAME COLUMN telefone TO celular;
```

> Aqui s√≥ troca o nome, mantendo tipo e restri√ß√µes intactos.

---

## üîπ Diferen√ßa entre os dois

|M√©todo|Vers√£o MySQL|Precisa repetir tipo/restri√ß√µes?|Pode s√≥ renomear?|
|---|---|---|---|
|`CHANGE`|Todas (antigo)|‚úÖ Sim|‚úÖ Sim, mas precisa informar tipo|
|`RENAME COLUMN`|MySQL 8.0+|‚ùå N√£o|‚úÖ Sim, direto|

---

‚úÖ **Resumo r√°pido:**

- Se estiver no **MySQL 8+**, prefira `RENAME COLUMN` ‚Üí mais limpo e seguro.
    
- Se estiver em vers√£o mais antiga, use `CHANGE COLUMN`.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=9&selection=13,0,14,65|Renomeando Tabela]]


## üîπ 1. Usando `RENAME TABLE`

- √â a forma mais simples e direta.
    
- Permite renomear **uma ou v√°rias tabelas de uma vez**.
    

### Sintaxe:

```sql
RENAME TABLE nome_antigo TO novo_nome;
```

### Exemplo:

```sql
RENAME TABLE clientes TO usuarios;
```

> A tabela `clientes` agora passa a se chamar `usuarios`.

‚úÖ Tamb√©m d√° para renomear v√°rias de uma vez:

```sql
RENAME TABLE pedidos TO vendas, produtos TO itens;
```

---

## üîπ 2. Usando `ALTER TABLE`

- Tamb√©m funciona para renomear **apenas uma tabela por vez**.
    

### Sintaxe:

```sql
ALTER TABLE nome_antigo RENAME TO novo_nome;
```

### Exemplo:

```sql
ALTER TABLE funcionarios RENAME TO colaboradores;
```

---

## üîπ 3. Cuidados importantes

- Se houver **views, procedures, triggers ou foreign keys** referenciando a tabela antiga, voc√™ precisar√° ajust√°-los manualmente (o MySQL **n√£o altera automaticamente** essas depend√™ncias).
    
- O novo nome **n√£o pode j√° existir** no banco de dados.
    
- Evite nomes reservados (como `order`, `user`, etc.) para n√£o dar conflito.
    

---

‚úÖ **Resumo r√°pido:**

- `RENAME TABLE` ‚Üí mais usado, permite renomear v√°rias tabelas de uma vez.
    
- `ALTER TABLE ... RENAME TO ...` ‚Üí alternativa para uma tabela s√≥.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=10&selection=0,0,0,16|Mais uma Tabela‚Ä¶]]

## üîπ 1. Criando uma tabela simples

```sql
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE,
    data_cadastro DATE DEFAULT (CURRENT_DATE)
);
```

**Explicando:**

- `id INT AUTO_INCREMENT PRIMARY KEY` ‚Üí cria chave prim√°ria num√©rica, que aumenta automaticamente.
    
- `nome VARCHAR(100) NOT NULL` ‚Üí campo de texto obrigat√≥rio.
    
- `email VARCHAR(100) UNIQUE` ‚Üí campo √∫nico (n√£o pode ter dois iguais).
    
- `data_cadastro DATE DEFAULT (CURRENT_DATE)` ‚Üí recebe a data do dia, se n√£o for informada.
    

---

## üîπ 2. Criando tabela **somente se n√£o existir**

√Äs vezes voc√™ n√£o tem certeza se a tabela j√° existe ‚Üí para evitar erro, use **`IF NOT EXISTS`**:

```sql
CREATE TABLE IF NOT EXISTS clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE
);
```

---

## üîπ 3. Definindo chaves estrangeiras

Se a tabela tiver rela√ß√£o com outra:

```sql
CREATE TABLE pedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    cliente_id INT NOT NULL,
    data_pedido DATE NOT NULL,
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
```

> Aqui, `cliente_id` √© uma chave estrangeira que aponta para `clientes(id)`.

---

## üîπ 4. Criando v√°rias tabelas ao mesmo tempo

```sql
CREATE TABLE IF NOT EXISTS categorias (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS produtos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    preco DECIMAL(10,2) NOT NULL,
    categoria_id INT,
    FOREIGN KEY (categoria_id) REFERENCES categorias(id)
);
```

---

## üîπ 5. Cuidados

- Sempre defina **PRIMARY KEY** (chave prim√°ria) para identifica√ß√£o √∫nica.
    
- Prefira `AUTO_INCREMENT` em IDs.
    
- Use `IF NOT EXISTS` em scripts que podem rodar v√°rias vezes.
    
- Se for relacionar tabelas, defina **FOREIGN KEY** corretamente.
    

---

‚úÖ **Resumo r√°pido:**

- `CREATE TABLE` ‚Üí cria nova tabela.
    
- `IF NOT EXISTS` ‚Üí evita erro se a tabela j√° existir.
    
- Use `PRIMARY KEY`, `UNIQUE`, `FOREIGN KEY`, `DEFAULT`, `NOT NULL` para maior controle.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=11&selection=0,0,0,26|Adicionando Chave Prim√°ria]]


## üîπ 1. Criando tabela j√° com chave prim√°ria

Normalmente a **PRIMARY KEY** √© definida j√° no `CREATE TABLE`:

```sql
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(100)
);
```

> Aqui, `id` √© a chave prim√°ria.

---

## üîπ 2. Adicionando chave prim√°ria em uma tabela j√° existente

Se a tabela j√° existe e n√£o tem chave prim√°ria:

```sql
ALTER TABLE clientes
ADD PRIMARY KEY (id);
```

> Define a coluna `id` como chave prim√°ria.

---

## üîπ 3. Adicionando chave prim√°ria composta

Voc√™ pode usar **mais de uma coluna** como chave prim√°ria (PK composta):

```sql
ALTER TABLE pedidos
ADD PRIMARY KEY (cliente_id, produto_id);
```

> Aqui, a combina√ß√£o de `cliente_id` + `produto_id` √© √∫nica.

---

## üîπ 4. Se j√° existe uma chave prim√°ria

- S√≥ pode haver **uma PRIMARY KEY por tabela**.
    
- Para trocar, primeiro √© preciso **remover** a antiga:
    

```sql
ALTER TABLE clientes
DROP PRIMARY KEY,
ADD PRIMARY KEY (email);
```

> Remove a PK existente e coloca `email` como nova PK.

---

## üîπ 5. Usando junto com `AUTO_INCREMENT`

A coluna `AUTO_INCREMENT` **precisa ser chave prim√°ria ou √≠ndice √∫nico**:

```sql
ALTER TABLE produtos
MODIFY COLUMN id INT AUTO_INCREMENT,
ADD PRIMARY KEY (id);
```

---

‚úÖ **Resumo r√°pido:**

- `ADD PRIMARY KEY (coluna)` ‚Üí adiciona uma PK.
    
- S√≥ pode haver **uma PRIMARY KEY por tabela**.
    
- Pode ser **simples (1 coluna)** ou **composta (2+ colunas)**.
    
- Se j√° existir uma PK, use `DROP PRIMARY KEY` antes.
    

---
# [[06 - ALTER TABLE DROP TABLE.pdf#page=12&selection=0,0,0,17|Apagando a Tabela]]


## üîπ 1. Apagar uma tabela

```sql
DROP TABLE nome_da_tabela;
```

Exemplo:

```sql
DROP TABLE clientes;
```

> Remove a tabela `clientes` e **todos os dados nela** de forma permanente.

---

## üîπ 2. Apagar somente se existir

Para evitar erro caso a tabela n√£o exista:

```sql
DROP TABLE IF EXISTS clientes;
```

---

## üîπ 3. Apagar v√°rias tabelas ao mesmo tempo

```sql
DROP TABLE IF EXISTS pedidos, produtos, categorias;
```

---

## üîπ 4. Diferen√ßa entre `DROP`, `TRUNCATE` e `DELETE`

|Comando|O que faz|Estrutura da tabela continua?|Restaura AUTO_INCREMENT?|
|---|---|---|---|
|`DROP TABLE`|Apaga a tabela inteira (estrutura + dados)|‚ùå N√£o|‚ùå N√£o (tabela some)|
|`TRUNCATE TABLE`|Apaga **todos os dados**, mas mant√©m a tabela|‚úÖ Sim|‚úÖ Sim (zera o AUTO_INCREMENT)|
|`DELETE FROM tabela`|Apaga **linhas espec√≠ficas**|‚úÖ Sim|‚ùå N√£o (n√£o reseta AUTO_INCREMENT)|

---

## üîπ 5. Cuidados

- **Irrevers√≠vel** ‚Üí depois de um `DROP`, s√≥ restaura se tiver **backup**.
    
- Se houver **FOREIGN KEYS** apontando para a tabela, voc√™ pode precisar apagar ou desativar essas restri√ß√µes antes (`SET FOREIGN_KEY_CHECKS = 0;`).
    
- Em ambientes de produ√ß√£o, prefira **`TRUNCATE`** ou **`DELETE`** em vez de `DROP`, para n√£o perder a estrutura.
    

---

‚úÖ **Resumo r√°pido:**

- `DROP TABLE nome;` ‚Üí apaga tabela.
    
- `DROP TABLE IF EXISTS nome;` ‚Üí s√≥ apaga se existir.
    
- `DROP TABLE t1, t2;` ‚Üí apaga v√°rias tabelas.
    
- Use com cuidado, pois √© destrutivo e permanente.
    


